var e=Object.defineProperty,a=Object.prototype.hasOwnProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,r=(a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n;import{D as l,E as o,G as s,H as i,b as p,c as u,d as c,t as f,i as d,T as h,I as v,J as m,m as g,h as P}from"./index.c4318c28.js";import"./vendor.0e657c5f.js";function w(e,a,t){return new Promise(((n,r)=>{let l=[],o=0,s=[],i=[],p=[],u=function(e){if(l.length===a)return void r(`more than ${a}`);t();let{parentPath:n,name:o}=function(e){let a=e.split("/"),t=a.length,n=a.splice(t-1,1)[0];return{parentPath:a.join("/"),name:n}}(e.fullPath);if(e.isFile){let a=l.length,t={name:o,isFile:!0,file:null,parentPath:n};l.push(t),e.file((t=>{l[a].file=t,i.push({file:t,parentPath:e.fullPath})}))}else p.push(e.fullPath),s.push(e),l.push({name:o,isFile:!1,parentPath:n})},c=function(e){return new Promise(((a,t)=>{if(e){let n=e.createReader();n.readEntries((e=>a(f(e,n))),(e=>t(e)))}else t("over")}))},f=function(e,a){if(e.forEach((e=>u(e))),100===e.length)return function(e){return new Promise(((a,t)=>{e.readEntries((t=>a(f(t,e))),(e=>t(e)))}))}(a);{o++;let e=s[o];return c(e)}};var d;(d=e).length>1?d.forEach((e=>u(e))):u(d[0]),c(s[o]).then((e=>f(e))).catch((e=>{"over"===e?n(l):r("read failed")}))}))}var y=l({props:{show:{type:Boolean,default:!1},tip:{type:String,default:"Loading"}},setup:e=>((e,l)=>{for(var o in l||(l={}))a.call(l,o)&&r(e,o,l[o]);if(t)for(var o of t(l))n.call(l,o)&&r(e,o,l[o]);return e})({},o(e))});const b=m("data-v-45428118");s("data-v-45428118");const j={key:0,class:"modal-loading"},E={class:"modal-loading-content"},O=g(" Reading Folder... ");i();const D=b(((e,a,t,n,r,l)=>(p(),u(v,{to:"body"},[c(h,{name:"fade"},{default:b((()=>[e.show?(p(),u("div",j,[c("div",E,[O,c("p",null,f(e.tip),1)])])):d("",!0)])),_:1})]))));y.render=D,y.__scopeId="data-v-45428118";const F=c("img",{src:"/assets/wallpaper.b0aad788.jpg",alt:"wallpaper"},null,-1),R={expose:[],setup(e){const a=P(!1),t=P(""),n=()=>{t.value=t.value+1},r=e=>{e.preventDefault(),e.stopPropagation()},l=e=>{e.preventDefault(),e.stopPropagation(),a.value=!0,w(Array.from(e.dataTransfer.items).map((e=>e.webkitGetAsEntry())),1e3,n).then((e=>{console.log(e),t.value="Reading Complete!"})).catch((e=>{console.log(e),t.value=`Reading Failed! ${e}`})).finally((()=>setTimeout((()=>{a.value=!1}),1e3)))};return(e,n)=>(p(),u("div",{class:"wallpaper",onDragover:r,onDrop:l},[F,c(y,{show:a.value,tip:t.value},null,8,["show","tip"])],32))}};export default R;
